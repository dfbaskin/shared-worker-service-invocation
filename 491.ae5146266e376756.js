(()=>{"use strict";var r,n,e={9491:(r,n,e)=>{var t=e(9675),o=e(3810),i=e(7515),a=e(3530),c=e(2165),s=e(8734);const u=(0,c.Ye)((function(r){const n=(0,s.bJ)();return(0,c.AO)(r.setMetaData(n.getSpanMetaData()),(function(){return r}))}));function f(){return u((0,i.Tc)("a-service"))}function p(){return u((0,i.Tc)("c-service"))}function d(){return u((0,i.Tc)("d-service"))}var m=e(1440);const v=(0,c.Ye)((function(){const r=(0,s.kQ)("operation-two");return r.addSpanEvent("Starting operation two.",{timeout:500}),(0,c.AO)(new Promise((r=>setTimeout(r,500))),(function(){return r.setSpanSuccess("Finished operation two."),r.endSpan(),"operation-two"}))})),h=(0,c.Ye)((function(){const r=(0,s.kQ)("operation-one");return r.addSpanEvent("Starting operation one.",{timeout:1e3}),(0,c.AO)(new Promise((r=>setTimeout(r,1e3))),(function(){return r.setSpanSuccess("Finished operation one."),r.endSpan(),"operation-one"}))}));var l=e(758);(0,s.XD)({serviceName:"shared-worker-two"});const S=(0,s.kQ)("initialize");try{const r=globalThis,{getMetaData:n,setMetaData:e}=(0,m.d)(),i=function(r){function n(){return{value:"B-service",timestamp:(new Date).toISOString(),workerId:(0,t.r)()}}const e=(0,c.Ye)((function(n,e){const t=(0,s.kQ)(`B-${n}`,{spanMetaData:r()});return(0,c.AO)(t.withSpan(e),(function(r){return t.setSpanSuccess(`Finished ${n}.`),t.endSpan(),r}))})),i=(0,c.Ye)((function(){return(0,s.bJ)().addSpanEvent("Creating async result.",{operationCount:2}),(0,c.AO)(Promise.all([h(),v()]),(function(r){return Object.assign({},n(),{operations:r})}))}));return{doSomething:()=>function(n,e){const t=(0,s.kQ)(`B-${n}`,{spanMetaData:r()}),o=t.withSpan(e);return t.setSpanSuccess(`Finished ${n}.`),t.endSpan(),o}("doSomething",(()=>(0,o.A)(Object.assign({},n())))),chainForward:function(r){return e("chainForward",(function(){return(0,c.cp)(p,(function(n){const e=n.chainForward;return(0,c.cp)(i,(function(t){return(0,c.AO)(e.call(n,Object.assign({},r,{b:t,order:[...r.order,"b"]})))}))}))}))},chainBackward:function(r){return e("chainBackward",(function(){return(0,c.cp)(f,(function(n){const e=n.chainBackward;return(0,c.cp)(i,(function(t){return(0,c.AO)(e.call(n,Object.assign({},r,{b:t,order:[...r.order,"b"]})))}))}))}))},transformFromA:function(){return e("transformFromA",(function(){return(0,c.cp)(f,(function(r){return(0,c.AO)(r.doSomething(),(function(r){return(0,o.A)({fromA:r,message:"Transformed by Service B"})}))}))}))},transformFromC:function(){return e("transformFromC",(function(){return(0,c.cp)(p,(function(r){return(0,c.AO)(r.doSomething(),(function(r){return(0,o.A)({fromC:r,message:"Transformed by Service B"})}))}))}))},transformFromD:function(){return e("transformFromD",(function(){return(0,c.cp)(d,(function(r){return(0,c.AO)(r.doSomething(),(function(r){return(0,o.A)({fromD:r,message:"Transformed by Service B"})}))}))}))}}}(n);r.onconnect=r=>{const[n]=r.ports;l.Jj({exposeServiceOnPort:(0,a.MP)({"b-service":i},{"b-service":e}),mapRemoteServiceOnPort:(0,a.Vw)(),workerInfo:()=>({title:"Worker Two"})},n)}}catch(g){console.error(g),S.setSpanError(g)}S.endSpan()}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,o),i.exports}o.m=e,o.x=()=>{var r=o.O(void 0,[390],(()=>o(9491)));return r=o.O(r)},r=[],o.O=(n,e,t,i)=>{if(!e){var a=1/0;for(f=0;f<r.length;f++){for(var[e,t,i]=r[f],c=!0,s=0;s<e.length;s++)(!1&i||a>=i)&&Object.keys(o.O).every((r=>o.O[r](e[s])))?e.splice(s--,1):(c=!1,i<a&&(a=i));if(c){r.splice(f--,1);var u=t();void 0!==u&&(n=u)}}return n}i=i||0;for(var f=r.length;f>0&&r[f-1][2]>i;f--)r[f]=r[f-1];r[f]=[e,t,i]},o.n=r=>{var n=r&&r.__esModule?()=>r.default:()=>r;return o.d(n,{a:n}),n},o.d=(r,n)=>{for(var e in n)o.o(n,e)&&!o.o(r,e)&&Object.defineProperty(r,e,{enumerable:!0,get:n[e]})},o.f={},o.e=r=>Promise.all(Object.keys(o.f).reduce(((n,e)=>(o.f[e](r,n),n)),[])),o.u=r=>r+".07623b40a3aaa585.js",o.miniCssF=r=>{},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(r){if("object"==typeof window)return window}}(),o.o=(r,n)=>Object.prototype.hasOwnProperty.call(r,n),(()=>{var r;o.g.importScripts&&(r=o.g.location+"");var n=o.g.document;if(!r&&n&&(n.currentScript&&(r=n.currentScript.src),!r)){var e=n.getElementsByTagName("script");if(e.length)for(var t=e.length-1;t>-1&&!r;)r=e[t--].src}if(!r)throw new Error("Automatic publicPath is not supported in this browser");r=r.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=r})(),(()=>{var r={491:1};o.f.i=(n,e)=>{r[n]||importScripts(o.p+o.u(n))};var n=self.webpackChunk=self.webpackChunk||[],e=n.push.bind(n);n.push=n=>{var[t,i,a]=n;for(var c in i)o.o(i,c)&&(o.m[c]=i[c]);for(a&&a(o);t.length;)r[t.pop()]=1;e(n)}})(),n=o.x,o.x=()=>o.e(390).then(n);o.x()})();