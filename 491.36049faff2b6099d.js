(()=>{"use strict";var e,r,t={9491:(e,r,t)=>{var n=t(9675),a=t(3810),o=t(7515),i=t(3530),s=t(8734);function c(){return u((0,o.Tc)("a-service"))}function p(){return u((0,o.Tc)("c-service"))}async function u(e){const r=(0,s.bJ)();return await e.setMetaData(r.getSpanMetaData()),e}var d=t(1440);async function f(e){const r=(0,s.kQ)("operation-one",{parentSpan:e});return r.addSpanEvent("Starting operation one.",{timeout:1e3}),await new Promise((e=>setTimeout(e,1e3))),r.setSpanSuccess("Finished operation one."),r.endSpan(),"operation-one"}async function m(e){const r=(0,s.kQ)("operation-two",{parentSpan:e});return r.addSpanEvent("Starting operation two.",{timeout:500}),await new Promise((e=>setTimeout(e,500))),r.setSpanSuccess("Finished operation two."),r.endSpan(),"operation-two"}var w=t(758);(0,s.XD)({serviceName:"shared-worker-two"});const h=(0,s.kQ)("initialize");try{const e=globalThis,{getMetaData:r,setMetaData:t}=(0,d.d)(),h=function(e){function r(){return{value:"B-service",timestamp:(new Date).toISOString(),workerId:(0,n.r)()}}async function t(e){e.addSpanEvent("Creating async result.",{operationCount:2});const t=await Promise.all([f(e),m(e)]);return Object.assign({},r(),{operations:t})}async function i(r,t){const n=(0,s.kQ)(`B-${r}`,{spanMetaData:e()}),a=await n.withSpan((()=>t(n)));return n.setSpanSuccess(`Finished ${r}.`),n.endSpan(),a}return{doSomething:()=>function(r,t){const n=(0,s.kQ)(`B-${r}`,{spanMetaData:e()}),a=n.withSpan(t);return n.setSpanSuccess(`Finished ${r}.`),n.endSpan(),a}("doSomething",(()=>(0,a.A)(Object.assign({},r())))),chainForward:async e=>i("chainForward",(async r=>{const n=await p();return await n.chainForward(Object.assign({},e,{b:await t(r),order:[...e.order,"b"]}))})),chainBackward:async e=>i("chainBackward",(async r=>{const n=await c();return await n.chainBackward(Object.assign({},e,{b:await t(r),order:[...e.order,"b"]}))})),transformFromA:async()=>i("transformFromA",(async()=>{const e=await c(),r=await e.doSomething();return(0,a.A)({fromA:r,message:"Transformed by Service B"})})),transformFromC:async()=>i("transformFromC",(async()=>{const e=await p(),r=await e.doSomething();return(0,a.A)({fromC:r,message:"Transformed by Service B"})})),transformFromD:async()=>i("transformFromD",(async()=>{const e=await u((0,o.Tc)("d-service")),r=await e.doSomething();return(0,a.A)({fromD:r,message:"Transformed by Service B"})}))}}(r);e.onconnect=e=>{const[r]=e.ports;w.Jj({exposeServiceOnPort:(0,i.MP)({"b-service":h},{"b-service":t}),mapRemoteServiceOnPort:(0,i.Vw)(),workerInfo:()=>({title:"Worker Two"})},r)}}catch(v){console.error(v),h.setSpanError(v)}h.endSpan()}},n={};function a(e){var r=n[e];if(void 0!==r)return r.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,a),o.exports}a.m=t,a.x=()=>{var e=a.O(void 0,[390],(()=>a(9491)));return e=a.O(e)},e=[],a.O=(r,t,n,o)=>{if(!t){var i=1/0;for(u=0;u<e.length;u++){for(var[t,n,o]=e[u],s=!0,c=0;c<t.length;c++)(!1&o||i>=o)&&Object.keys(a.O).every((e=>a.O[e](t[c])))?t.splice(c--,1):(s=!1,o<i&&(i=o));if(s){e.splice(u--,1);var p=n();void 0!==p&&(r=p)}}return r}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[t,n,o]},a.d=(e,r)=>{for(var t in r)a.o(r,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((r,t)=>(a.f[t](e,r),r)),[])),a.u=e=>e+".0d7423d40ae7eea2.js",a.miniCssF=e=>{},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var r=a.g.document;if(!e&&r&&(r.currentScript&&(e=r.currentScript.src),!e)){var t=r.getElementsByTagName("script");if(t.length)for(var n=t.length-1;n>-1&&!e;)e=t[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{var e={491:1};a.f.i=(r,t)=>{e[r]||importScripts(a.p+a.u(r))};var r=self.webpackChunk=self.webpackChunk||[],t=r.push.bind(r);r.push=r=>{var[n,o,i]=r;for(var s in o)a.o(o,s)&&(a.m[s]=o[s]);for(i&&i(a);n.length;)e[n.pop()]=1;t(r)}})(),r=a.x,a.x=()=>a.e(390).then(r);a.x()})();